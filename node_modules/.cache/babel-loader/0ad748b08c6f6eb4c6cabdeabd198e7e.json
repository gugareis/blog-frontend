{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\gugar\\\\Documents\\\\git\\\\blog-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\gugar\\\\Documents\\\\git\\\\blog-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _regeneratorRuntime from\"C:\\\\Users\\\\gugar\\\\Documents\\\\git\\\\blog-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import axios from\"axios\";import{getToken}from\"./auth\";var api=axios.create({baseURL:\"\".concat(process.env.REACT_APP_USER_URL)});api.interceptors.request.use(function _callee(config){var token;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(config.url!==\"/api/authenticate\"&&config.url!==\"/api/newaccount\"){token=getToken();if(token){config.headers.Authorization=\"Bearer \".concat(token);}}return _context.abrupt(\"return\",config);case 2:case\"end\":return _context.stop();}}});});var ApiService=/*#__PURE__*/function(){function ApiService(apiurl){_classCallCheck(this,ApiService);this.apiurl=apiurl;}_createClass(ApiService,[{key:\"post\",value:function post(url,objeto){var requestUrl=\"\".concat(this.apiurl).concat(url);return api.post(requestUrl,objeto);}},{key:\"postFormData\",value:function postFormData(url,objeto){var requestUrl=\"\".concat(this.apiurl).concat(url);var config={headers:{'content-type':'multipart/form-data'}};return api.post(requestUrl,objeto,config);}},{key:\"put\",value:function put(url,objeto){var requestUrl=\"\".concat(this.apiurl).concat(url);return api.put(requestUrl,objeto);}},{key:\"delete\",value:function _delete(url){var requestUrl=\"\".concat(this.apiurl).concat(url);return api.delete(requestUrl);}},{key:\"get\",value:function get(url){var requestUrl=\"\".concat(this.apiurl).concat(url);return api.get(requestUrl);}}]);return ApiService;}();export default ApiService;","map":{"version":3,"sources":["C:/Users/gugar/Documents/git/blog-frontend/src/services/apiservice.js"],"names":["axios","getToken","api","create","baseURL","process","env","REACT_APP_USER_URL","interceptors","request","use","config","url","token","headers","Authorization","ApiService","apiurl","objeto","requestUrl","post","put","delete","get"],"mappings":"sfAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,QAAzB,CAEA,GAAMC,CAAAA,GAAG,CAAGF,KAAK,CAACG,MAAN,CAAa,CACrBC,OAAO,WAAMC,OAAO,CAACC,GAAR,CAAYC,kBAAlB,CADc,CAAb,CAAZ,CAIAL,GAAG,CAACM,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA6B,iBAAMC,MAAN,6HAC3B,GAAGA,MAAM,CAACC,GAAP,GAAa,mBAAb,EAAoCD,MAAM,CAACC,GAAP,GAAa,iBAApD,CAAsE,CAC5DC,KAD4D,CACpDZ,QAAQ,EAD4C,CAElE,GAAIY,KAAJ,CAAW,CACTF,MAAM,CAACG,OAAP,CAAeC,aAAf,kBAAyCF,KAAzC,EACD,CACJ,CAN0B,gCAOpBF,MAPoB,gDAA7B,E,GAWMK,CAAAA,U,yBACF,oBAAaC,MAAb,CAAoB,kCAChB,KAAKA,MAAL,CAAcA,MAAd,CACH,C,yDACIL,G,CAAIM,M,CAAO,CACZ,GAAMC,CAAAA,UAAU,WAAM,KAAKF,MAAX,SAAoBL,GAApB,CAAhB,CACA,MAAOV,CAAAA,GAAG,CAACkB,IAAJ,CAASD,UAAT,CAAoBD,MAApB,CAAP,CACH,C,kDAEYN,G,CAAIM,M,CAAO,CACpB,GAAMC,CAAAA,UAAU,WAAM,KAAKF,MAAX,SAAoBL,GAApB,CAAhB,CACA,GAAMD,CAAAA,MAAM,CAAG,CACXG,OAAO,CAAE,CACL,eAAgB,qBADX,CADE,CAAf,CAKA,MAAOZ,CAAAA,GAAG,CAACkB,IAAJ,CAASD,UAAT,CAAoBD,MAApB,CAA2BP,MAA3B,CAAP,CACH,C,gCACGC,G,CAAIM,M,CAAO,CACX,GAAMC,CAAAA,UAAU,WAAM,KAAKF,MAAX,SAAoBL,GAApB,CAAhB,CACA,MAAOV,CAAAA,GAAG,CAACmB,GAAJ,CAAQF,UAAR,CAAmBD,MAAnB,CAAP,CACH,C,uCACMN,G,CAAI,CACP,GAAMO,CAAAA,UAAU,WAAM,KAAKF,MAAX,SAAoBL,GAApB,CAAhB,CACA,MAAOV,CAAAA,GAAG,CAACoB,MAAJ,CAAWH,UAAX,CAAP,CACH,C,gCACGP,G,CAAI,CACJ,GAAMO,CAAAA,UAAU,WAAM,KAAKF,MAAX,SAAoBL,GAApB,CAAhB,CACA,MAAOV,CAAAA,GAAG,CAACqB,GAAJ,CAAQJ,UAAR,CAAP,CACH,C,0BAEL,cAAeH,CAAAA,UAAf","sourcesContent":["import axios from \"axios\";\r\nimport { getToken } from \"./auth\";\r\n\r\nconst api = axios.create({\r\n    baseURL : `${process.env.REACT_APP_USER_URL}`\r\n});\r\n\r\napi.interceptors.request.use(async config => {\r\n  if(config.url!==\"/api/authenticate\" && config.url!==\"/api/newaccount\"){\r\n      const token = getToken();\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n  }\r\n  return config;\r\n});\r\n\r\n\r\nclass ApiService {\r\n    constructor (apiurl){\r\n        this.apiurl = apiurl;\r\n    }\r\n    post(url,objeto){\r\n        const requestUrl = `${this.apiurl}${url}`;\r\n        return api.post(requestUrl,objeto,);\r\n    }\r\n    \r\n    postFormData(url,objeto){\r\n        const requestUrl = `${this.apiurl}${url}`;\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n        return api.post(requestUrl,objeto,config);\r\n    }\r\n    put(url,objeto){\r\n        const requestUrl = `${this.apiurl}${url}`;\r\n        return api.put(requestUrl,objeto);\r\n    }\r\n    delete(url){\r\n        const requestUrl = `${this.apiurl}${url}`;\r\n        return api.delete(requestUrl);\r\n    }\r\n    get(url){\r\n        const requestUrl = `${this.apiurl}${url}`;\r\n        return api.get(requestUrl);\r\n    }\r\n}\r\nexport default ApiService"]},"metadata":{},"sourceType":"module"}